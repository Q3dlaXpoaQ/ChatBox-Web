{"version":3,"file":"assets/js/9917.ddfbe0f53b8376153af8.js","mappings":"6KAwBA,IACGA,cACAC,MAAK,EAAGC,MAAKC,iBACZ,MAAMC,EAAU,KACVF,EAAIG,uBAAyB,IAAIC,KAAKC,IAAO,OAAuBA,EAAIJ,KAAaK,QAAQC,KAAQA,OACrGP,EAAIE,SAAW,IAErBM,QAAQC,KAAK,iBAAiBP,EAAQQ,uCAAuCT,KAC7E,IAAcU,UAAUT,GACP,gBAAb,MA3BNU,aAAY,KACVJ,QAAQK,MACN,eACAC,KAAKC,UACHC,MAAMC,KAAK,IAAcf,QAAQgB,UAAUd,KAAI,EAAGe,SAAQC,SAAUC,MAC3D,CACLhB,GAAIc,EAAOd,GACXiB,KAAMH,EAAOG,KACbC,OAAQF,EAAOE,WAGnB,KACA,GAEH,GACA,IAcD,IAEDC,OAAOC,IACNjB,QAAQkB,MAAM,sBAAuBD,EAAI,G","sources":["webpack://xyz.chatboxapp.ce/./src/renderer/setup/mcp_bootstrap.ts"],"sourcesContent":["import { getBuiltinServerConfig } from '@/packages/mcp/builtin'\nimport { mcpController } from '@/packages/mcp/controller'\nimport platform from '@/platform'\nimport { NODE_ENV } from '@/variables'\n\nfunction monitorServerStatus() {\n  setInterval(() => {\n    console.debug(\n      'MCP Servers:',\n      JSON.stringify(\n        Array.from(mcpController.servers.values()).map(({ config, instance: server }) => {\n          return {\n            id: config.id,\n            name: config.name,\n            status: server.status,\n          }\n        }),\n        null,\n        2\n      )\n    )\n  }, 10000)\n}\n\nplatform\n  .getSettings()\n  .then(({ mcp, licenseKey }) => {\n    const servers = [\n      ...(mcp.enabledBuiltinServers || []).map((id) => getBuiltinServerConfig(id, licenseKey)).filter((s) => !!s),\n      ...(mcp.servers || []), // user defined servers\n    ]\n    console.info(`mcp bootstrap ${servers.length} servers, with license key: ${!!licenseKey}`)\n    mcpController.bootstrap(servers)\n    if (NODE_ENV === 'development') {\n      monitorServerStatus()\n    }\n  })\n  .catch((err) => {\n    console.error('mcp bootstrap error', err)\n  })\n"],"names":["getSettings","then","mcp","licenseKey","servers","enabledBuiltinServers","map","id","filter","s","console","info","length","bootstrap","setInterval","debug","JSON","stringify","Array","from","values","config","instance","server","name","status","catch","err","error"],"sourceRoot":""}